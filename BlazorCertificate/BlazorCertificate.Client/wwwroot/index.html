<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>Missão Blazor 😎</title>
    <base href="/" />

    <!-- BOOTSTRAP FROM CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>

    <link href="css/site.css" rel="stylesheet" />

</head>
<body>
    <app>Loading...</app>

    <script type="blazor-boot">
    </script>

    <script>
        // Faz a função JS ficar visível no Blazor.
        // Tem que ficar abaixo do "blazor-boot"
        Blazor.registerFunction('open_modal', () => {
            $("#diaryModal").modal("show")


            $('#diaryModal').on('show.bs.modal', function (event) {

                // gambis nencessária até que essa issue seja resolvida.
                // https://github.com/aspnet/Blazor/issues/167

                html = document.getElementById("diaryModalBody_source").innerHTML
                html = $('<textarea />').html(html).text();
                document.getElementById("diaryModalBody_destination").innerHTML = html;

                
            })

            return true;
        });




    </script>
</body>
</html>
